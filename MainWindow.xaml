<Window x:Class="SleepDeprivation.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:tb="clr-namespace:H.NotifyIcon;assembly=H.NotifyIcon.Wpf"
        Title="Sleep Deprivation" 
        Height="300" 
        Width="400"
        WindowStartupLocation="CenterScreen">
    
    <Window.Resources>
        <ContextMenu x:Key="TrayContextMenu">
            <MenuItem x:Name="MenuItemEnable" Header="Enable" Click="MenuItemEnable_Click" IsCheckable="True" IsChecked="{Binding IsActive}" />
            <MenuItem x:Name="MenuItemDisable" Header="Disable" Click="MenuItemDisable_Click" />
            <Separator />
            <MenuItem Header="Show Window" Click="MenuItemShow_Click" />
            <MenuItem Header="Exit" Click="MenuItemExit_Click" />
        </ContextMenu>
    </Window.Resources>
    
    <Grid>
        <tb:TaskbarIcon x:Name="TrayIcon"
                        ToolTipText="Sleep Deprivation - Inactive"
                        ContextMenu="{StaticResource TrayContextMenu}"
                        TrayLeftMouseDown="TrayIcon_TrayLeftMouseDown" />
        
        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
            <TextBlock x:Name="StatusText" 
                       Text="Sleep Deprivation - Inactive" 
                       FontSize="18" 
                       HorizontalAlignment="Center" 
                       Margin="0,20"/>
            
            <Ellipse x:Name="StatusIndicator" 
                     Width="50" 
                     Height="50" 
                     Fill="Red" 
                     HorizontalAlignment="Center" 
                     Margin="0,20"/>
            
            <Button x:Name="ToggleButton" 
                    Content="Activate" 
                    Width="100" 
                    Height="35" 
                    Click="ToggleButton_Click" 
                    Margin="0,20"/>
                    
            <Button Content="Minimize to Tray" 
                    Width="150" 
                    Height="30" 
                    Click="MinimizeToTray_Click" 
                    Margin="0,10"/>
        </StackPanel>
    </Grid>
</Window>